<?php
if( function_exists('acf_add_local_field_group') ):

// SERVICE REST SEDOO
acf_add_local_field_group(array(
	'key' => 'group_623ddc96cf354',
	'title' => 'REST API SEDOO',
	'fields' => array(
		array(
			'key' => 'field_623ddcc2c273f',
			'label' => 'Adresse du getfile',
			'name' => 'intranet_API_getfile_url',
			'type' => 'text',
			'instructions' => 'https://api.sedoo.fr/intranet-omp-service-rest/data/v1_0/getfile?product=intranet-filetree&campaign=intranetomp&file=',
			'required' => 0,
			'conditional_logic' => 0,
			'wrapper' => array(
				'width' => '',
				'class' => '',
				'id' => '',
			),
			'default_value' => 'https://api.sedoo.fr/intranet-omp-service-rest/data/v1_0/getfile?product=intranet-filetree&campaign=intranetomp&file=',
			'placeholder' => '',
			'prepend' => '',
			'append' => '',
			'maxlength' => '',
		),
	),
	'location' => array(
		array(
			array(
				'param' => 'options_page',
				'operator' => '==',
				'value' => 'sedoo-intranet-services-admin-page',
			),
		),
	),
	'menu_order' => 0,
	'position' => 'normal',
	'style' => 'default',
	'label_placement' => 'top',
	'instruction_placement' => 'label',
	'hide_on_screen' => '',
	'active' => true,
	'description' => '',
	'show_in_rest' => 0,
));

// Dossiers filebrowser  -- contact en commentaire pour l'instant
acf_add_local_field_group(array(
    'key' => 'group_6231ff4e5fc5e',
    'title' => 'Fichiers en relation',
    'fields' => array(
        // array(
        //     'key' => 'field_6231ff65ef70f',
        //     'label' => 'Contacts',
        //     'name' => 'intranet_taxo_contacts',
        //     'type' => 'repeater',
        //     'instructions' => '',
        //     'required' => 0,
        //     'conditional_logic' => 0,
        //     'wrapper' => array(
        //         'width' => '',
        //         'class' => '',
        //         'id' => '',
        //     ),
        //     'collapsed' => 'field_6231ffa1ef30a',
        //     'min' => 0,
        //     'max' => 0,
        //     'layout' => 'table',
        //     'button_label' => '',
        //     'sub_fields' => array(
        //         array(
        //             'key' => 'field_62320092ef30c',
        //             'label' => 'Nom du service proposé',
        //             'name' => 'intranet_taxo_contact_service_name',
        //             'type' => 'text',
        //             'instructions' => '',
        //             'required' => 0,
        //             'conditional_logic' => 0,
        //             'wrapper' => array(
        //                 'width' => '',
        //                 'class' => '',
        //                 'id' => '',
        //             ),
        //             'default_value' => '',
        //             'placeholder' => '',
        //             'prepend' => '',
        //             'append' => '',
        //             'maxlength' => '',
        //         ),
        //         array(
        //             'key' => 'field_6231ffa1ef30a',
        //             'label' => 'Adresse générique du service',
        //             'name' => 'intranet_taxo_contact_service_mail',
        //             'type' => 'email',
        //             'instructions' => '',
        //             'required' => 0,
        //             'conditional_logic' => 0,
        //             'wrapper' => array(
        //                 'width' => '',
        //                 'class' => '',
        //                 'id' => '',
        //             ),
        //             'default_value' => '',
        //             'placeholder' => '',
        //             'prepend' => '',
        //             'append' => '',
        //         ),
        //         array(
        //             'key' => 'field_6231ffe1ef30b',
        //             'label' => 'Liste des gestionnaires',
        //             'name' => 'intranet_taxo_contact_userlist',
        //             'type' => 'user',
        //             'instructions' => '',
        //             'required' => 0,
        //             'conditional_logic' => 0,
        //             'wrapper' => array(
        //                 'width' => '',
        //                 'class' => '',
        //                 'id' => '',
        //             ),
        //             'role' => '',
        //             'allow_null' => 0,
        //             'multiple' => 1,
        //             'return_format' => 'array',
        //         ),
        //     ),
        // ),
        array(
            'key' => 'field_6232038f994b5',
            'label' => 'Racine de l\'arborescence de fichiers',
            'name' => 'intranet_taxo_root',
            'type' => 'text',
            'instructions' => 'Récupérer la fin de l\'url manquante pour accéder au dossier, depuis le gestionnaire de fichiers <a href="https://fb2.sedoo.fr/" target="_blank">"fileBrowser" </a>',
            'required' => 0,
            'conditional_logic' => 0,
            'wrapper' => array(
                'width' => '',
                'class' => '',
                'id' => '',
            ),
            'default_value' => '',
            'placeholder' => 'irap/Finances/Achats/',
            'prepend' => 'https://fb2.sedoo.fr/files/',
            'append' => '',
            'maxlength' => '',
        ),
    ),
    'location' => array(
        array(
            array(
                'param' => 'taxonomy',
                'operator' => '==',
                'value' => 'category',
            ),
        ),
    ),
    'menu_order' => 0,
    'position' => 'normal',
    'style' => 'default',
    'label_placement' => 'top',
    'instruction_placement' => 'label',
    'hide_on_screen' => '',
    'active' => true,
    'description' => '',
    'show_in_rest' => 0,
));

//fichiers en relation sur filebrowser
acf_add_local_field_group(array(
	'key' => 'group_623b3e7e0a9c3',
	'title' => 'Ajout de fichiers en relation',
	'fields' => array(
		array(
			'key' => 'field_623b3e8a0aa3a',
			'label' => 'Fichiers',
			'name' => 'intranet_relatedfile',
			'type' => 'repeater',
			'instructions' => '',
			'required' => 0,
			'conditional_logic' => 0,
			'wrapper' => array(
				'width' => '',
				'class' => '',
				'id' => '',
			),
			'collapsed' => 'field_623b3f460aa3c',
			'min' => 0,
			'max' => 0,
			'layout' => 'row',
			'button_label' => 'Ajouter un fichier',
			'sub_fields' => array(
				array(
					'key' => 'field_623b3f460aa3c',
					'label' => 'Nom explicite du fichier',
					'name' => 'intranet_relatedfile_name',
					'type' => 'text',
					'instructions' => '',
					'required' => 0,
					'conditional_logic' => 0,
					'wrapper' => array(
						'width' => '',
						'class' => '',
						'id' => '',
					),
					'default_value' => '',
					'placeholder' => '',
					'prepend' => '',
					'append' => '',
					'maxlength' => '',
				),
				array(
					'key' => 'field_623dde4c5e696',
					'label' => 'Source du fichier',
					'name' => 'intranet_relatedfile_source',
					'type' => 'select',
					'instructions' => '',
					'required' => 0,
					'conditional_logic' => 0,
					'wrapper' => array(
						'width' => '',
						'class' => '',
						'id' => '',
					),
					'choices' => array(
						'interne' => 'Interne (déposé sur filebrowser)',
						'externe' => 'Externe (page intranet tutelle, autres)',
					),
					'default_value' => false,
					'allow_null' => 0,
					'multiple' => 0,
					'ui' => 0,
					'return_format' => 'label',
					'ajax' => 0,
					'placeholder' => '',
				),
				array(
					'key' => 'field_623b3ec00aa3b',
					'label' => 'URL du fichier interne',
					'name' => 'intranet_relatedfile_internal_url',
					'type' => 'text',
					'instructions' => 'Récupérer la fin de l\'url manquante pour accéder au dossier, depuis le gestionnaire de fichiers <a href="https://fb2.sedoo.fr/" target="_blank">"fileBrowser" </a>',
					'required' => 0,
					'conditional_logic' => array(
						array(
							array(
								'field' => 'field_623dde4c5e696',
								'operator' => '==',
								'value' => 'interne',
							),
						),
					),
					'wrapper' => array(
						'width' => '',
						'class' => '',
						'id' => '',
					),
					'default_value' => '',
					'placeholder' => 'irap/Finances/Achats/nom_du_fichier.extension',
					'prepend' => 'https://fb2.sedoo.fr/files/',
					'append' => '',
					'maxlength' => '',
				),
				array(
					'key' => 'field_623ddf213b2ee',
					'label' => 'URL du fichier externe',
					'name' => 'intranet_relatedfile_external_url',
					'type' => 'text',
					'instructions' => 'Récupérer l\'url complète de la page où est hébergé le fichier',
					'required' => 0,
					'conditional_logic' => array(
						array(
							array(
								'field' => 'field_623dde4c5e696',
								'operator' => '==',
								'value' => 'externe',
							),
						),
					),
					'wrapper' => array(
						'width' => '',
						'class' => '',
						'id' => '',
					),
					'default_value' => '',
					'placeholder' => '',
					'prepend' => '',
					'append' => '',
					'maxlength' => '',
				),
			),
		),
	),
	'location' => array(
		array(
			array(
				'param' => 'post_type',
				'operator' => '==',
				'value' => 'page',
			),
		),
	),
	'menu_order' => 0,
	'position' => 'normal',
	'style' => 'default',
	'label_placement' => 'top',
	'instruction_placement' => 'label',
	'hide_on_screen' => '',
	'active' => true,
	'description' => '',
	'show_in_rest' => 0,
));

// Déclarer un service
if( function_exists('acf_add_local_field_group') ):

	acf_add_local_field_group(array(
		'key' => 'group_62330e13209bb',
		'title' => 'Déclarer un service',
		'fields' => array(
			array(
				'key' => 'field_62330e2ae2563',
				'label' => 'Description du service',
				'name' => 'intranet_service',
				'type' => 'repeater',
				'instructions' => '',
				'required' => 0,
				'conditional_logic' => 0,
				'wrapper' => array(
					'width' => '',
					'class' => '',
					'id' => '',
				),
				'collapsed' => 'field_62330e7ce2564',
				'min' => 0,
				'max' => 0,
				'layout' => 'table',
				'button_label' => 'Ajouter un service',
				'sub_fields' => array(
					array(
						'key' => 'field_62330eb4e2566',
						'label' => 'Catégorie',
						'name' => 'intranet_service_categorie',
						'type' => 'taxonomy',
						'instructions' => '',
						'required' => 1,
						'conditional_logic' => 0,
						'wrapper' => array(
							'width' => '',
							'class' => '',
							'id' => '',
						),
						'taxonomy' => 'category',
						'field_type' => 'multi_select',
						'allow_null' => 0,
						'add_term' => 0,
						'save_terms' => 0,
						'load_terms' => 0,
						'return_format' => 'object',
						'multiple' => 0,
					),
					array(
						'key' => 'field_62330e7ce2564',
						'label' => 'nom du service',
						'name' => 'intranet_service_nom',
						'type' => 'text',
						'instructions' => '',
						'required' => 1,
						'conditional_logic' => 0,
						'wrapper' => array(
							'width' => '',
							'class' => '',
							'id' => '',
						),
						'default_value' => '',
						'placeholder' => '',
						'prepend' => '',
						'append' => '',
						'maxlength' => '',
					),
					array(
						'key' => 'field_62330e9ee2565',
						'label' => 'Mail de contact',
						'name' => 'intranet_service_mail',
						'type' => 'email',
						'instructions' => '',
						'required' => 1,
						'conditional_logic' => 0,
						'wrapper' => array(
							'width' => '',
							'class' => '',
							'id' => '',
						),
						'default_value' => '',
						'placeholder' => '',
						'prepend' => '',
						'append' => '',
					),
					array(
						'key' => 'field_623b02e25e797',
						'label' => 'Gestionnaire(s) en charge',
						'name' => 'intranet_service_gestionnaires',
						'type' => 'user',
						'instructions' => '',
						'required' => 0,
						'conditional_logic' => 0,
						'wrapper' => array(
							'width' => '',
							'class' => '',
							'id' => '',
						),
						'role' => '',
						'allow_null' => 0,
						'multiple' => 1,
						'return_format' => 'object',
					),
				),
			),
		),
		'location' => array(
			array(
				array(
					'param' => 'options_page',
					'operator' => '==',
					'value' => 'acf-options-gestion-des-services',
				),
			),
		),
		'menu_order' => 0,
		'position' => 'normal',
		'style' => 'default',
		'label_placement' => 'top',
		'instruction_placement' => 'label',
		'hide_on_screen' => '',
		'active' => true,
		'description' => '',
		'show_in_rest' => 0,
	));
	
	endif;		

// Applications externes
acf_add_local_field_group(array(
	'key' => 'group_62332d0123e8c',
	'title' => 'Ajouter une application',
	'fields' => array(
		array(
			'key' => 'field_62332d013232a',
			'label' => 'Application en ligne externe',
			'name' => 'intranet_apiext',
			'type' => 'repeater',
			'instructions' => '',
			'required' => 0,
			'conditional_logic' => 0,
			'wrapper' => array(
				'width' => '',
				'class' => '',
				'id' => '',
			),
			'collapsed' => 'field_62332d0133ab5',
			'min' => 0,
			'max' => 0,
			'layout' => 'table',
			'button_label' => 'Ajouter un service externe',
			'sub_fields' => array(
				array(
					'key' => 'field_62332d0133ab5',
					'label' => 'nom de l\'application',
					'name' => 'intranet_apiext_application_nom',
					'type' => 'text',
					'instructions' => '',
					'required' => 1,
					'conditional_logic' => 0,
					'wrapper' => array(
						'width' => '',
						'class' => '',
						'id' => '',
					),
					'default_value' => '',
					'placeholder' => '',
					'prepend' => '',
					'append' => '',
					'maxlength' => '',
				),
				array(
					'key' => 'field_62332a2633ab5',
					'label' => 'Description',
					'name' => 'intranet_apiext_application_description',
					'type' => 'text',
					'instructions' => '',
					'required' => 1,
					'conditional_logic' => 0,
					'wrapper' => array(
						'width' => '',
						'class' => '',
						'id' => '',
					),
					'default_value' => '',
					'placeholder' => '',
					'prepend' => '',
					'append' => '',
					'maxlength' => '',
				),
				array(
					'key' => 'field_62332d0133abf',
					'label' => 'URL du service',
					'name' => 'intranet_apiext_application_url',
					'type' => 'url',
					'instructions' => '',
					'required' => 1,
					'conditional_logic' => 0,
					'wrapper' => array(
						'width' => '',
						'class' => '',
						'id' => '',
					),
					'default_value' => '',
					'placeholder' => '',
				),
				array(
					'key' => 'field_62332d0133adb',
					'label' => 'Catégorie',
					'name' => 'intranet_apiext_application_categorie',
					'type' => 'taxonomy',
					'instructions' => '',
					'required' => 1,
					'conditional_logic' => 0,
					'wrapper' => array(
						'width' => '',
						'class' => '',
						'id' => '',
					),
					'taxonomy' => 'category',
					'field_type' => 'multi_select',
					'allow_null' => 0,
					'add_term' => 0,
					'save_terms' => 0,
					'load_terms' => 0,
					'return_format' => 'object',
					'multiple' => 0,
				),
				array(
					'key' => 'field_62332eb41c13d',
					'label' => 'Icône SVG',
					'name' => 'intranet_apiext_application_icone',
					'type' => 'file',
					'instructions' => '',
					'required' => 0,
					'conditional_logic' => 0,
					'wrapper' => array(
						'width' => '',
						'class' => '',
						'id' => '',
					),
					'return_format' => 'array',
					'library' => 'all',
					'min_size' => '',
					'max_size' => '',
					'mime_types' => 'svg',
				),
			),
		),
	),
	'location' => array(
		array(
			array(
				'param' => 'options_page',
				'operator' => '==',
				'value' => 'acf-options-applications-externes',
			),
		),
	),
	'menu_order' => 0,
	'position' => 'normal',
	'style' => 'default',
	'label_placement' => 'top',
	'instruction_placement' => 'label',
	'hide_on_screen' => '',
	'active' => true,
	'description' => '',
	'show_in_rest' => 0,
));
    

endif;		

?>